function autocomplete(e){var t;function n(e){if(!e)return!1;!function(e){for(var t=0;t<e.length;t++)e[t].classList.remove("autocomplete-active")}(e),t>=e.length&&(t=0),t<0&&(t=e.length-1),e[t].classList.add("autocomplete-active")}function o(t){for(var n=document.getElementsByClassName("autocomplete-items"),o=0;o<n.length;o++)t!=n[o]&&t!=e&&n[o].parentNode.removeChild(n[o])}e.addEventListener("input",function(n){var a=$(this).val();$.ajax({url:"{% url 'auto_complete' %}?search="+a,success:function(n){if(o(),!a)return!1;t=-1;var c,l,u,r=n.result[1];this.value;for((c=document.createElement("DIV")).setAttribute("id","autocomplete-list"),c.setAttribute("class","autocomplete-items"),document.getElementById("myInput").parentNode.appendChild(c),u=0;u<r.length;u++)(l=document.createElement("DIV")).innerHTML+=r[u][0],l.innerHTML+="<input type='hidden' value='"+r[u][0]+"'>",l.addEventListener("click",function(t){e.value=this.getElementsByTagName("input")[0].value,window.location.href="{% url 'search_youtube' %}?search="+e.value,o()}),c.appendChild(l)}})}),e.addEventListener("keydown",function(o){console.log(o.keyCode);var a=document.getElementById("autocomplete-list");a&&(a=a.getElementsByTagName("div")),40==o.keyCode?(t++,n(a)):38==o.keyCode?(t--,n(a)):13==o.keyCode&&(o.preventDefault(),console.log("Enter clicked"+t),t>-1?a&&a[t].click():e.value&&(window.location.href="{% url 'search_youtube' %}?search="+e.value))}),document.addEventListener("click",function(e){o(e.target)})}function bar(){}function setGetParameter(){searchWord=document.getElementById("search").value,window.location.href="{% url 'auto_complete' %}?search="+searchWord}